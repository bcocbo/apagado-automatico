# CodeQL configuration for enhanced security scanning
# This configuration enables additional security queries and customizes the analysis

name: "Enhanced Security Analysis"

# Disable default queries and use security-focused query suites
disable-default-queries: false

# Additional query suites to run
queries:
  - name: security-extended
    uses: security-extended
  - name: security-and-quality
    uses: security-and-quality

# Paths to include in the analysis
paths:
  - controller/
  - frontend/src/
  - scripts/

# Paths to exclude from analysis
paths-ignore:
  - "**/node_modules/**"
  - "**/build/**"
  - "**/dist/**"
  - "**/coverage/**"
  - "**/*.test.js"
  - "**/*.test.ts"
  - "**/*.test.py"
  - "**/tests/**"
  - "**/__tests__/**"
  - "**/test_*.py"

# Language-specific configurations
python:
  # Include additional Python security libraries
  setup-python-dependencies: true
  
javascript:
  # Include TypeScript files
  typescript: true
  # Analyze dependencies
  include-dependencies: true

# Custom query filters
query-filters:
  - exclude:
      id: js/unused-local-variable
  - exclude:
      id: py/unused-local-variable
  - include:
      tags:
        - security
        - external/cwe
        - external/owasp

# External data sources for enhanced analysis
external-repository-token: ${{ secrets.GITHUB_TOKEN }}